<configuration name="cdr_pg_csv.conf" description="CDR PG CSV Format">
  <settings>
    <!-- See parameters for PQconnectdb() at http://www.postgresql.org/docs/8.4/static/libpq-connect.html -->
    <!--<param name="db-info" value="host=localhost dbname=voxbox connect_timeout=10" />-->
    <param name="db-info" value="host=$${sql_cluster_host} dbname=$${sql_cluster_db} user=$${sql_cluster_user} password=$${sql_cluster_password} connect_timeout=50" />
    <!-- CDR table name -->
    <param name="db-table" value="calls"/>

    <!-- Log a-leg (a), b-leg (b) or both (ab) -->
    <param name="legs" value="ab"/>

    <!-- Directory in which to spool failed SQL inserts -->
    <param name="spool-dir" value="/opt/cdr/spool"/>
    <!-- Disk spool format if DB connection/insert fails - csv (default) or sql -->
    <param name="spool-format" value="sql"/>
    <param name="rotate-on-hup" value="true"/>
    
    <!--<param name="log-b-leg" value="true"/>-->

    <!-- This is like the info app but after the call is hung up -->
    <!--<param name="debug" value="true"/>-->
    
  </settings>
  <schema>
	  <field var="direction" />
	  <field var="uuid" />
	  <field var="call_uuid" />
	  <field var="sip_call_id" />
	  <field var="bridge_uuid" />
	  <field var="signal_bond" />
	  <field var="last_bridge_to" />
	  <field var="originated_legs" />
	  <field var="originate_causes" />
	  <field var="originator" />
	  <field var="caller_id_name" />
	  <field var="caller_id_number" />
	  <field var="destination_number" />
	  <field var="stripped_called_number" />
	  <field var="sip_received_ip" />
	  <field var="sip_destination_ip" />
	  <field var="rtp_last_audio_codec_string" />
	  <field var="ep_codec_string" />
	  <field var="sip_user_agent" />
	  <field var="sip_from_user" />
	  <field var="start_stamp" />
	  <field var="answer_stamp" />
	  <field var="end_stamp" />
	  <field var="created_time" />
	  <field var="progress_media_time" />
	  <field var="answered_time" />
	  <field var="duration" quote="false"/>
	  <field var="billsec" quote="false"/>
	  <field var="billmsec" quote="false"/>
	  <field var="last_bridge_proto_specific_hangup_cause" />
	  <field var="hangup_cause" />
	  <field var="hangup_cause_q850" />
	  <field var="pdd" quote="false"/>
	  <field var="rtp_audio_in_jitter_min_variance" quote="false"/>
	  <field var="rtp_audio_in_jitter_max_variance" quote="false"/>
	  <field var="rtp_audio_in_mean_interval" quote="false"/>
	  <field var="rtp_audio_in_quality_percentage" quote="false"/>
	  <field var="rtp_audio_in_mos" quote="false"/>
	  <field var="rtp_audio_in_packet_count" quote="false"/>
	  <field var="rtp_audio_in_media_packet_count" quote="false"/>
	  <field var="rtp_audio_in_skip_packet_count" quote="false"/>
	  <field var="rtp_audio_in_flush_packet_count" quote="false"/>
	  <field var="rtp_audio_out_packet_count" quote="false"/>
	  <field var="rtp_audio_out_media_packet_count" quote="false"/>
	  <field var="rtp_audio_out_skip_packet_count" quote="false"/>
	  <field var="customer_id" />
	  <field var="customer_name" />
	  <field var="customer_interconnection_id" />
	  <field var="customer_interconnection_name" />
	  <field var="customer_endpoint_id" />
	  <field var="customer_endpoint_name" />
	  <field var="customer_balance" quote="false"/>
	  <field var="customer_postpaid_credit_limit" quote="false"/>
	  <field var="customer_credit_kind" />
	  <field var="customer_interconnection_inbound_prefix" />
	  <field var="customer_interconnection_channels" quote="false"/>
	  <field var="country_id" />
	  <field var="country_name" />
	  <field var="country_alpha3" />
	  <field var="zone_id" />
	  <field var="zone_name" />
	  <field var="code_id" />
	  <field var="code_name" />
	  <field var="code_prefix" />
	  <field var="customer_rate_id" />
	  <field var="customer_rate_name" />
	  <field var="customer_rate_currency_code" />
	  <field var="customer_price_id" />
	  <field var="customer_price_name" />
	  <field var="customer_price_rpm" quote="false"/>
	  <field var="customer_price_rpm_local" quote="false"/>
	  <field var="route_id" />
	  <field var="route_name" />
	  <field var="breakout_id" />
	  <field var="breakout_name" />
	  <field var="breakout_channels" quote="false"/>
	  <field var="breakout_kind" />
	  <field var="breakout_lossy" />
	  <field var="supplier_id" />
	  <field var="supplier_name" />
	  <field var="supplier_interconnection_id" />
	  <field var="supplier_interconnection_name" />
	  <field var="supplier_endpoint_id" />
	  <field var="supplier_endpoint_name" />
	  <field var="supplier_interconnection_outbound_prefix" />
	  <field var="supplier_interconnection_channels" quote="false"/>
	  <field var="supplier_rate_id" />
	  <field var="supplier_rate_name" />
	  <field var="supplier_rate_currency_code" />
	  <field var="supplier_price_id" />
	  <field var="supplier_price_name" />
	  <field var="supplier_price_prefix" />
	  <field var="supplier_price_rpm" quote="false"/>
	  <field var="supplier_price_rpm_local" quote="false"/>
	  <field var="customer_price_tot" quote="false"/>
	  <field var="supplier_price_tot" quote="false"/>
	  <field var="supplier_price_local_tot" quote="false"/>
	  <field var="system_release_cause" />
  </schema>
</configuration>
